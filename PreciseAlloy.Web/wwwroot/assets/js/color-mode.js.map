{"version":3,"file":"color-mode.js","sources":["../../../../src/_helpers/handleTheme.ts","../../../../xpack/scripts/color-mode.entry.ts"],"sourcesContent":["const THEME_KEY = 'MSG_THEME';\r\n\r\nconst getTheme = (isLight: boolean) => {\r\n  return isLight ? 'light' : 'dark';\r\n};\r\n\r\nconst setTheme = (theme: string) => {\r\n  localStorage.setItem(THEME_KEY, theme);\r\n  document.documentElement.setAttribute('data-theme', theme);\r\n}\r\n\r\nconst getCurrentTheme = () => {\r\n  const theme = localStorage.getItem(THEME_KEY);\r\n\r\n  return getTheme(!theme || theme.toLowerCase() === 'light');\r\n};\r\n\r\nconst switchTheme = () => {\r\n  const currentTheme = getCurrentTheme();\r\n  const newTheme = getTheme(currentTheme !== 'light');\r\n\r\n  setTheme(newTheme);\r\n}\r\n\r\nexport { THEME_KEY, getCurrentTheme, switchTheme, getTheme, setTheme };","import { THEME_KEY, switchTheme } from '@helpers/handleTheme';\n\n/**\n * Handle storage change\n */\nconst handleStorageChange = (event: StorageEvent) => {\n  switch (event.key) {\n    case THEME_KEY: {\n      document.documentElement.setAttribute('data-theme', event.newValue as string);\n      break;\n    }\n  }\n};\n\nconst handleToggleTheme = () => {\n  switchTheme();\n};\n\nconst themeToggle = document.querySelector('.zzz-o-header__theme-toggle');\n\nif (themeToggle) {\n  themeToggle.addEventListener('click', () => {\n    switchTheme();\n  });\n}\n\nwindow.addEventListener('storage', handleStorageChange);\nwindow.addEventListener('toggleTheme', handleToggleTheme);\n"],"names":["THEME_KEY","getTheme","isLight","setTheme","theme","getCurrentTheme","switchTheme","currentTheme","newTheme","handleStorageChange","event","handleToggleTheme","themeToggle"],"mappings":"AAAA,MAAMA,EAAY,YAEZC,EAAYC,GACTA,EAAU,QAAU,OAGvBC,EAAYC,GAAkB,CACrB,aAAA,QAAQJ,EAAWI,CAAK,EAC5B,SAAA,gBAAgB,aAAa,aAAcA,CAAK,CAC3D,EAEMC,EAAkB,IAAM,CACtB,MAAAD,EAAQ,aAAa,QAAQJ,CAAS,EAE5C,OAAOC,EAAS,CAACG,GAASA,EAAM,YAAA,IAAkB,OAAO,CAC3D,EAEME,EAAc,IAAM,CACxB,MAAMC,EAAeF,EAAgB,EAC/BG,EAAWP,EAASM,IAAiB,OAAO,EAElDJ,EAASK,CAAQ,CACnB,ECjBMC,EAAuBC,GAAwB,CACnD,OAAQA,EAAM,IAAK,CACjB,KAAKV,EAAW,CACd,SAAS,gBAAgB,aAAa,aAAcU,EAAM,QAAkB,EAC5E,KAAA,CACF,CAEJ,EAEMC,EAAoB,IAAM,CAClBL,EAAA,CACd,EAEMM,EAAc,SAAS,cAAc,6BAA6B,EAEpEA,GACUA,EAAA,iBAAiB,QAAS,IAAM,CAC9BN,EAAA,CAAA,CACb,EAGH,OAAO,iBAAiB,UAAWG,CAAmB,EACtD,OAAO,iBAAiB,cAAeE,CAAiB"}